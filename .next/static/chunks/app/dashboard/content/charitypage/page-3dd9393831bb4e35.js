(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{9425:function(e,t,r){Promise.resolve().then(r.bind(r,3825))},3825:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(3827),a=r(4090),c=r(3779),o=r(8714),s=r(5756),i=r(739),l=r(8009);function u(){let[e,t]=(0,a.useState)([]),[r,u]=(0,a.useState)(!0),[d,f]=(0,a.useState)(null),[y,p]=(0,a.useState)(null),h=(0,o.createClientComponentClient)(),{user:m}=(0,c.a)();async function x(){try{let{data:e,error:r}=await h.from("charity_sections").select("*").order("order_number");if(r)throw Error("Database error: ".concat(r.message).concat(r.details?" - ".concat(r.details):""));if(!e)throw Error("No data received from database");t(e)}catch(e){f(e instanceof Error?e.message:"Failed to fetch charity sections"),console.error("Error fetching charity sections:",e)}finally{u(!1)}}async function b(t,r){if(!(null==m?void 0:m.email)){l.ZP.error("You must be logged in to make changes");return}try{let n=e.find(e=>e.id===t);if(!n)throw Error("Section not found");let{error:a}=await h.from("charity_sections").update({content:r,updated_at:new Date().toISOString(),last_edited_by:m.email,version:n.version+1}).eq("id",t);if(a)throw Error("Database error: ".concat(a.message).concat(a.details?" - ".concat(a.details):""));l.ZP.success("Charity content updated successfully"),await x(),p(null)}catch(t){let e=t instanceof Error?t.message:"Failed to update charity content";l.ZP.error(e),console.error("Error updating charity section:",t)}}return((0,a.useEffect)(()=>{x()},[]),r)?(0,n.jsx)(s.Z,{size:"large",message:"Loading charity content...",centered:!0}):d?(0,n.jsx)(i.Z,{message:d}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Charity Content Management"})}),(0,n.jsx)("div",{className:"grid gap-6",children:e.map(e=>(0,n.jsxs)("div",{className:"container-card p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-200",children:e.section_key.replace(/_/g," ").toUpperCase()}),(0,n.jsxs)("p",{className:"text-sm text-gray-400",children:["Type: ",e.style_type]})]}),(0,n.jsxs)("span",{className:"px-2 py-1 text-xs rounded bg-gray-700 text-gray-300",children:["v",e.version]})]}),y===e.id?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("textarea",{className:"w-full h-32 px-4 py-2 bg-gray-700 border border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500/50",defaultValue:e.content,id:"edit-".concat(e.id)}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{className:"btn-primary",onClick:()=>{let t=document.getElementById("edit-".concat(e.id)).value;b(e.id,t)},children:"Save"}),(0,n.jsx)("button",{className:"btn-secondary",onClick:()=>p(null),children:"Cancel"})]})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("p",{className:"text-gray-300",children:e.content}),(0,n.jsx)("button",{className:"btn-secondary",onClick:()=>p(e.id),children:"Edit"})]})]},e.id))})]})}},739:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(3827),a=r(4090),c=r(6173),o=r(3933);function s(e){let{message:t,variant:r="error",action:s,animation:i,className:l="",onClose:u,centered:d=!1}=e,f=(0,a.useRef)(null);(0,a.useEffect)(()=>{i&&f.current&&(0,o.jt)(f.current,i)},[i]);let y={error:{containerClass:"bg-red-900/20 border-red-700 text-red-200",icon:(0,n.jsx)(c.bcx,{className:"w-5 h-5 text-red-500"})},warning:{containerClass:"bg-yellow-900/20 border-yellow-700 text-yellow-200",icon:(0,n.jsx)(c.BJv,{className:"w-5 h-5 text-yellow-500"})},info:{containerClass:"bg-blue-900/20 border-blue-700 text-blue-200",icon:(0,n.jsx)(c.H33,{className:"w-5 h-5 text-blue-500"})}},p="\n    flex items-start p-3 border rounded-md\n    ".concat(y[r].containerClass,"\n    ").concat(l,"\n    ").concat(d?"flex items-center justify-center min-h-[200px]":"flex items-center","\n  ");return(0,n.jsxs)("div",{ref:f,className:p,role:"alert",children:[(0,n.jsx)("div",{className:"flex-shrink-0 mr-3",children:y[r].icon}),(0,n.jsx)("div",{className:"flex-grow",children:"string"==typeof t?(0,n.jsx)("p",{children:t}):t}),(0,n.jsxs)("div",{className:"flex items-center ml-4 space-x-2",children:[s&&(0,n.jsx)("button",{onClick:s.onClick,className:"px-2 py-1 text-xs font-medium rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:s.label}),u&&(0,n.jsx)("button",{onClick:u,className:"p-1 rounded-full hover:bg-white/10 transition-colors","aria-label":"Sluiten",children:(0,n.jsx)(c.q5L,{className:"w-4 h-4"})})]})]})}},5756:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3827);function a(e){let{size:t="medium",centered:r=!1,message:a,className:c="",color:o="blue"}=e;return(0,n.jsxs)("div",{className:r?"flex flex-col items-center justify-center min-h-[200px]":"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"".concat({small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"}[t]," animate-spin"),children:(0,n.jsxs)("svg",{className:"text-blue-500",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),a&&(0,n.jsx)("p",{className:"mt-4 text-gray-400",children:a})]})}r(4090)},3779:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return l}});var n=r(3827),a=r(4090),c=r(7907),o=r(8714);let s=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,a.useState)(null),[l,u]=(0,a.useState)(!0),d=(0,c.useRouter)(),f=(0,o.createClientComponentClient)();(0,a.useEffect)(()=>{(async()=>{try{let{data:{user:e}}=await f.auth.getUser();i(e)}catch(e){console.error("Error getting user:",e)}finally{u(!1)}})();let{data:{subscription:e}}=f.auth.onAuthStateChange((e,t)=>{var r;i(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null),u(!1)});return()=>{e.unsubscribe()}},[f,d]);let y=async(e,t)=>{try{let{data:r,error:n}=await f.auth.signInWithPassword({email:e,password:t});if(n)throw n;i(r.user);let{data:{session:a}}=await f.auth.getSession();(null==a?void 0:a.user)&&d.push("/dashboard")}catch(e){throw console.error("Sign in error:",e),e}},p=async()=>{await f.auth.signOut(),d.push("/"),d.refresh()};return(0,n.jsx)(s.Provider,{value:{user:r,isLoading:l,signIn:y,signOut:p},children:t})},l=()=>{let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3933:function(e,t,r){"use strict";r.d(t,{fH:function(){return i},jN:function(){return o},jt:function(){return c}});var n=r(3696);let a=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{duration:c=.5,delay:o=0,ease:s="power2.out",...i}=a;return n.ZP.fromTo(e,t,{...r,duration:c,delay:o,ease:s,...i})},c=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t){case"fadeIn":return a(e,{opacity:0},{opacity:1},r);case"fadeInUp":return a(e,{opacity:0,y:30},{opacity:1,y:0},r);case"fadeInDown":return a(e,{opacity:0,y:-30},{opacity:1,y:0},r);case"fadeInLeft":return a(e,{opacity:0,x:-30},{opacity:1,x:0},r);case"fadeInRight":return a(e,{opacity:0,x:30},{opacity:1,x:0},r);case"scale":return a(e,{opacity:0,scale:.8},{opacity:1,scale:1},{...r,ease:r.ease||"back.out(1.5)"});case"slideUp":return a(e,{y:"100%"},{y:0},r);case"slideDown":return a(e,{y:"-100%"},{y:0},r);case"bounce":return a(e,{y:-20,opacity:0},{y:0,opacity:1},{...r,ease:r.ease||"elastic.out(1, 0.5)"});case"fadeOut":return a(e,{opacity:1},{opacity:0},r);case"popIn":return a(e,{opacity:0,scale:.5},{opacity:1,scale:1},{...r,ease:"back.out(1.7)"});case"slideInLeft":return a(e,{x:-50,opacity:0},{x:0,opacity:1},r);case"slideInRight":return a(e,{x:50,opacity:0},{x:0,opacity:1},r);case"slideInUp":return a(e,{y:50,opacity:0},{y:0,opacity:1},r);case"slideInDown":return a(e,{y:-50,opacity:0},{y:0,opacity:1},r);case"bounceIn":return a(e,{scale:.3,opacity:0},{scale:1,opacity:1,ease:"elastic.out(1, 0.3)"},r);case"pulse":return n.ZP.to(e,{scale:1.05,duration:.5,repeat:-1,yoyo:!0,ease:"power1.inOut",...r});default:return console.warn('Animatietype "'.concat(t,'" is niet gedefinieerd.')),a(e,{opacity:0},{opacity:1},r)}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{childAnimation:r="fadeInUp",staggerAmount:a=.1,duration:c=.4,delay:o=0,ease:s="power2.out",...i}=t,l={opacity:0,y:20},u={opacity:1,y:0};switch(r){case"fadeInLeft":l={opacity:0,x:-20},u={opacity:1,x:0};break;case"fadeInRight":l={opacity:0,x:20},u={opacity:1,x:0};break;case"fadeInDown":l={opacity:0,y:-20},u={opacity:1,y:0};break;case"scale":l={opacity:0,scale:.9},u={opacity:1,scale:1}}let d=n.ZP.timeline();return d.fromTo(e,l,{...u,duration:c,stagger:a,delay:o,ease:s,...i}),d},s=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{duration:a=1.5,delay:c=0,ease:o="power2.out",prefix:s="",suffix:i="",isCurrency:l=!1,...u}=r;return e instanceof HTMLElement&&(e.textContent="0"),n.ZP.fromTo(e,{textContent:0},{textContent:t,duration:a,delay:c,ease:o,snap:{textContent:1},...u,onUpdate:function(){if(this.targets()[0]){let e=parseFloat(this.targets()[0].textContent||"0");l?this.targets()[0].textContent="".concat(s).concat(e.toFixed(2)).concat(i):this.targets()[0].textContent="".concat(s).concat(Math.round(e)).concat(i)}}})},i={welcomeBanner:e=>c(e,"fadeInDown",{duration:.5,ease:"power3.out"}),statsCards:e=>o(e,{childAnimation:"scale",staggerAmount:.1,duration:.6,ease:"back.out(1.5)"}),statValue:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(e,t,{duration:1.5,delay:.3,...r})},table:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4;return c(e,"fadeInUp",{duration:.5,delay:t,ease:"power2.out"})}}},158:function(e,t,r){"use strict";r.d(t,{w_:function(){return u}});var n=r(4090),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c=n.createContext&&n.createContext(a),o=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(d,s({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,l({key:r},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var r,{attr:a,size:c,title:i}=e,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,o),d=c||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==c?n.createElement(c.Consumer,null,e=>t(e)):t(a)}}},function(e){e.O(0,[922,956,676,714,9,696,971,69,744],function(){return e(e.s=9425)}),_N_E=e.O()}]);